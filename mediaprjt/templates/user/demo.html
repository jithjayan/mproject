<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Gallery</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f7f7f7;
        }

        /* Main container */
        .image-container {
            column-count: 4; /* Number of columns in the grid */
            column-gap: 15px; /* Gap between columns */
            padding: 20px;
        }

        .image-item {
            break-inside: avoid; /* Avoid breaking images inside columns */
            margin-bottom: 15px;
            background-color: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .image-item img {
            width: 100%;
            height: auto;
        }


        /* Responsive layout */
        @media (max-width: 1200px) {
            .image-container {
                column-count: 3;
            }
        }

        @media (max-width: 900px) {
            .image-container {
                column-count: 2;
            }
        }

        @media (max-width: 600px) {
            .image-container {
                column-count: 1;
            }
        }
    </style>
</head>
<body>
    <h1 style="text-align: center; padding: 20px;">Pinterest Style Image Gallery</h1>
    <div class="image-container">
        {% for image in data %}
        <div class="image-item">
            <img src="{{ image.img.url }}" alt="{{ image.title }}">
        </div>
        {% endfor %}
    </div>
</body>
</html>

-------------------------------------
# def viewpic(req,pid):
    # dt=[]
    # data=Images.objects.get(pk=pid)
    # tgs=Images.objects.get(pk=pid).tags
    # tgs=tgs.split(',')
    # for i in tgs:
    #     if i not in Category.objects.all():
    #         Category.objects.create(tag=Images.objects.get(pk=pid),name=i)
    #     else:
    #         pass    

    # dt.append(tgs)
    # data1=Category.objects.filter()
    # print(dt)
    # print()
    # return render(req,'user/viewpic.html',{'data':data,'data1':data1})

# def add_image(req):
#     if req.method=='POST':
#         title=req.POST['title']
#         disp=req.POST['disp']
#         tags=req.POST['tags']
#         img=req.FILES['img']
#         catg=[]
#         for i in tags.split(','):
#             i=i.strip()
#             catg.append(i)
#             print(catg)
#             if i not in Category.objects.all():
#                g= Category.objects.get_or_create(name=i)

#             else:
#                 pass
#             data=Images.objects.create(title=title,disp=disp,tags=tags,img=img)
#             data.save()
#         return redirect(user_home)
#     return render(req,'user/add_image.html')




# def add_image(req):
#     if req.method == 'POST':
#         title = req.POST['title']
#         disp = req.POST['disp']
#         tags = req.POST['tags'] 
#         img = req.FILES.get('img') 
#         dt=[]
        
#         for i in tags.split(','):
#             i=i.strip()
#             dt.append(i)
#             for j in dt:
#                 if j not in Category.objects.filter(name=j):
#                     Category.objects.create(name=j)
#                 else:
#                     pass
#                 data=Images.objects.create(title=title,disp=disp,tags=tags,img=img,tag=j)
#                 data.save()
#         return redirect(user_home)
    
#     return render(req,'user/add_image.html')